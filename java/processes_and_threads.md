# 进程与线程

在并发编程中，有两种基本执行单元：进程和线程。在 Java 中，并发编程主要与 **线程** 相关，但进程也很重要。

计算机系统中通常有很多活跃的进程和线程，在仅有一个 CPU 内核的系统中也是如此，该类系统中每个时刻 **只有一个线程** 在真正执行。单核 CPU 的处理时间通过操作系统的 **时间分片** 机制在多个线程之间共享。

越来越多的计算机拥有多个处理器或多核处理器，这大大增强了系统并发执行进程、线程的能力，但即使在单核系统中，也可以做到并发。

## 进程

进程拥有自包含的 **执行环境**，进程通常拥有完整的、私有的基本运行时资源，进程拥有独立的 **内存空间**。

进程经常被视为程序、应用的同义词，但用户视角下的单个应用程序通常是一组相互协作的进程集合。进程之间通过 IPC 资源（管道、Socket）通信。

大多数 JVM 实现以 **单进程** 运行，Java 程序可以使用 `ProcessBuilder` 对象创建进程，本教程不涉及 *多进程应用*。

## 线程

线程被称为 **轻量级进程**，进程和线程都需要 **执行环境**，但创建线程需要的资源更少。

线程 **存在于** 进程之中 -- 每个进程至少拥有一个线程。线程 **共享** 进程的 **内存**、打开文件等资源，通过 **资源共享**，线程之间通信效率更高，但也容易出错。

多线程执行是 JVM 的重要特性，每个应用至少拥有一个线程，若把执行内存管理、信号处理的 **系统线程** 算入的话，每个应用至少拥有两个线程，但从开发者角度看，每个应用都是从 `main thread` 开始的，`main thread` 可以创建其他线程。
